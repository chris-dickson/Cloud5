!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var i;"undefined"!=typeof window?i=window:"undefined"!=typeof global?i=global:"undefined"!=typeof self&&(i=self),i.WordCloudCanvas=t()}}(function(){return function t(i,n,r){function e(o,a){if(!n[o]){if(!i[o]){var h="function"==typeof require&&require;if(!a&&h)return h(o,!0);if(s)return s(o,!0);throw new Error("Cannot find module '"+o+"'")}var u=n[o]={exports:{}};i[o][0].call(u.exports,function(t){var n=i[o][1][t];return e(n?n:t)},u,u.exports,t,i,n,r)}return n[o].exports}for(var s="function"==typeof require&&require,o=0;o<r.length;o++)e(r[o]);return e}({1:[function(t,i){function n(t){var i=new Array(t||0),r=t;if(arguments.length>1)for(var e=Array.prototype.slice.call(arguments,1);r--;)i[t-1-r]=n.apply(this,e);return i}var r=t("./util"),e=function(t){this._canvas,this._words,r.extend(this,t)};e.prototype=r.extend(e.prototype,{_initialize:function(){this._bitmap=n(this._canvas.width,this._canvas.height);for(var t=0;t<this._canvas.width;t++)for(var i=0;i<this._canvas.height;i++)this._bitmap[t][i]=!1},canvas:function(t){return t?(this._canvas=t,this):this._canvas},words:function(t){return t?(this._words=t,this):this._words},layout:function(){this._initialize();var t={};return this._words,t}}),i.exports=e},{"./util":3}],2:[function(t,i,n){var r=t("./util"),e=t("./layout"),s=function(t){this._words={},this._stopWords={},this._canvas,this._width,this._height,this._backgroundFill,this._layout,r.extend(this,t)};s.prototype=r.extend(s.prototype,{canvas:function(t){return t?(this._canvas=t,this._width=t.width,this._height=t.height,this):this._canvas},width:function(t){return t?(this._canvas&&(this._canvas.width=t,this._width=t),this):this.width},height:function(t){return t?(this._canvas&&(this._canvas.height=t,this._height=t),this):this._height},text:function(t){var i=t.replace(/[\.,-\/#!$%\^&\*;:{}=\-_`~()]/g,"");i=i.replace(/\[[0-9]*\]/g,""),i=i.replace(/[\t+\[\]]/g,"");var n=i.split(" ");return this.words(n),this},stop:function(t){if(t){var i=this;return t.forEach(function(t){i._stopWords[t.trim().toLowerCase()]=!0}),this}return this._stopWords},background:function(t){return t?(this._backgroundFill=t,this):this._backgroundFill},words:function(t){if(t){var i=this;return t.forEach(function(t){var n=t.trim().toLowerCase();if(!i._stopWords[n]){var r=i._words[n];r||(r=0),r++,i._words[n]=r}}),this}return this._words},generate:function(){var t=(new e).canvas(this._canvas).words(this._words),i=(t.layout(),this._canvas.getContext("2d"));return this._backgroundFill&&(i.fillStyle=this._backgroundFill,i.fillRect(0,0,this._width,this._height)),this}}),n.Extend=r.extend,n.WordCloud=s},{"./layout":1,"./util":3}],3:[function(t,i){var n={extend:function(t){var i,n,r;for(n=1;n<arguments.length;n++){r=arguments[n];for(i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}return t}};i.exports=n},{}]},{},[2])(2)});